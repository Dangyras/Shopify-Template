{% assign ss = section.settings %}
{% assign type = "Carousel" | downcase | replace: " ", "_" %}

{% capture section_classes -%}
  {%- if ss.desktop %}hide--smUp {% endif -%}
  {%- if ss.mobile %}hide--smDown {% endif -%}
  {%- if ss.mirror %}style--mirror {% endif -%}
  {%- if ss.oveflow %}style--oveflow {% endif -%}
  {% if ss.navigation_style %}style--nav_{{ ss.navigation_style }}{% endif %}
  {%- if ss.section_margin_1_options %}margin--{{ ss.section_margin_1_options }}{% endif -%}
{%- endcapture %}

<section
  id="section__{{ section.id }}"
  class="section--wrapper {{ section_classes }}"
  data-section="{{ type }}"
>
  <div class="container {% if ss.width == "default2" %}container--full{% else %}container--{{ ss.width }}{% endif %}">
    <div class="section--inner">
      {% render 'custom-sections', section: section, type: type, metafields: true %}
    </div>
  </div>
</section>

{% schema %}
  {
    "name": "• Carousel",
    "settings": [
      {
        "type": "header",
        "content": "Content settings"
      },
      {
        "type": "inline_richtext",
        "id": "title",
        "label": "Heading"
      },
      {
        "type": "header",
        "content": "Section settings"
      },
      {
        "type": "range",
        "id": "slides",
        "label": "Slides",
        "min": 1,
        "max": 7,
        "step": 0.1,
        "default": 3
      },
      {
        "type": "range",
        "id": "slides_tablet",
        "label": "Slides (tablet)",
        "min": 1,
        "max": 7,
        "step": 0.5,
        "default": 3
      },
      {
        "type": "range",
        "id": "slides_mobile",
        "label": "Slides (mobile)",
        "min": 1,
        "max": 7,
        "step": 0.1,
        "default": 1
      },
      {
        "type": "range",
        "id": "autoplay_delay",
        "label": "Autoplay delay",
        "min": 0,
        "max": 10,
        "step": 0.5,
        "default": 0,
        "info": "Set to 0 to disable autoplay",
        "unit": "s"
      },
      {
        "type": "number",
        "id": "gap",
        "label": "Gap",
        "default": 25
      },
      {
        "type": "number",
        "id": "gap_mobile",
        "label": "Gap (mobile)",
        "default": 16
      },
      {
        "type": "checkbox",
        "id": "desktop",
        "default": false,
        "label": "Hide on desktop"
      },
      {
        "type": "checkbox",
        "id": "mobile",
        "default": false,
        "label": "Hide on mobile"
      },
      {
        "type": "checkbox",
        "id": "h1",
        "default": false,
        "label": "Heading: H1"
      },
      {
        "type": "checkbox",
        "id": "oveflow",
        "default": false,
        "label": "Show overflow"
      },
      {
        "type": "checkbox",
        "id": "loop",
        "default": true,
        "label": "Loop"
      },
      {
         "type":      "select",
         "id":        "navigation_style",
         "label":     "Style",
         "options": [
           { "value": "1", "label": "1" },
           { "value": "2", "label": "2" },
           { "value": "3", "label": "3" }
         ],
        "default":   "1"
      },
      {
         "type":      "select",
         "id":        "center",
         "label":     "Slides: center",
         "options": [
           { "value": "false", "label": "False" },
           { "value": "true", "label": "True" }
         ],
        "default":   "false"
      },
      {
         "type":      "select",
         "id":        "group_desktop",
         "label":     "Slides: group",
         "options": [
           { "value": "2", "label": "2" },
           { "value": "1", "label": "1" }
         ],
        "default":   "2"
      },
      {
        "type": "header",
        "content": "Colours"
      },
      {
        "type": "color",
        "id": "section_background_1",
        "label": "Background: Section"
      },
      {
        "type": "color",
        "id": "content_background_1",
        "label": "Background: Content"
      },
      {
        "type": "color",
        "id": "content_background_2",
        "label": "Background: Content 2"
      },
      {
        "type": "color",
        "id": "content_background_3",
        "label": "Background: Content 3"
      },
      {
        "type": "color",
        "id": "content_text_1",
        "label": "Colour: Text 1"
      },
      {
        "type": "color",
        "id": "content_text_2",
        "label": "Colour: Text 2"
      },
      {
        "type": "color",
        "id": "content_accent_1",
        "label": "Colour: Accent 1"
      },
      {
        "type": "color",
        "id": "content_accent_2",
        "label": "Colour: Accent 2"
      },
      {
        "type": "color",
        "id": "button_text_1",
        "label": "Button: Text"
      },
      {
        "type": "color",
        "id": "button_background_1",
        "label": "Button: Background"
      }, 
      {
        "type": "header",
        "content": "Spacing"
      },
      {
         "type":      "select",
         "id":        "width",
         "label":     "Width: Section",
         "options": [
           { "value": "default", "label": "Default" },
           { "value": "narrow", "label": "Narrow" },
           { "value": "wide", "label": "Wide" },
           { "value": "full", "label": "Full width" },
           { "value": "padding", "label": "Full width with padding" },
           { "value": "default2", "label": "Default 2" },
         ],
        "default":   "default"
      },
      {
        "type": "range",
        "id": "section_margin_1",
        "label": "Margin: Section Bottom",
        "min": -25,
        "max": 25,
        "step": 0.5,
        "default": 0
      },
      {
         "type":      "select",
         "id":        "section_margin_1_options",
         "label":     "Margin: Visible",
         "options": [
           { "value": "mobile", "label": "Mobile" },
           { "value": "desktop", "label": "Desktop" },
           { "value": "default", "label": "Both" }
         ],
        "default":   "default"
      },
      {
        "type": "range",
        "id": "section_padding_1",
        "label": "Padding: Section Top/Bottom",
        "min": 0,
        "max": 25,
        "step": 0.5,
        "default": 0
      },
      {
        "type": "range",
        "id": "content_padding_1",
        "label": "Padding: Content Top/Bottom",
        "min": 0,
        "max": 25,
        "step": 0.5,
        "default": 0
      },
      {
        "type": "range",
        "id": "content_padding_2",
        "label": "Padding: Content Sides",
        "min": 0,
        "max": 25,
        "step": 0.5,
        "default": 0
      },
      {
        "type": "range",
        "id": "mobile_modifier_1",
        "label": "Mobile Modifier",
        "min": -100,
        "max": 100,
        "step": 2,
        "unit": "%",
        "default": -50
      }
	],
    "blocks": [
      {
        "type": "block",
        "name": "Block",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image (desktop)"
          },
          {
            "type": "image_picker",
            "id": "image_mobile",
            "label": "Image (mobile)"
          },
          {
            "type": "url",
            "id": "url",
            "label": "URL"
          },
          {
            "type": "inline_richtext",
            "id": "button",
            "label": "Button"
          }
        ]
      },
      {
        "type": "svg",
        "name": "SVG Block",
        "settings": [
          {
            "type": "html",
            "id": "html",
            "label": "SVG"
          },
          {
            "type": "url",
            "id": "url",
            "label": "URL"
          },
          {
            "type": "inline_richtext",
            "id": "button",
            "label": "Button"
          },
          {
            "type": "color",
            "id": "content_background_1",
            "label": "Background"
          },
          {
            "type": "color",
            "id": "content_text_1",
            "label": "Colour"
          },
          {
            "type": "range",
            "id": "content_size_1",
            "label": "SVG size",
            "min": 0,
            "max": 100,
            "step": 1,
            "default": 50
          },
          {
            "type": "range",
            "id": "content_size_2",
            "label": "Block size",
            "min": 50,
            "max": 150,
            "step": 1,
            "default": 100
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "• Carousel"
      }
    ]
  }
{% endschema %}
      
{% style %}
  {% render "custom-section_styles" %}
{% endstyle %}